(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{234:function(t,s,e){"use strict";e.r(s);var a=e(3),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"udp-datagram-sockets"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#udp-datagram-sockets"}},[t._v("#")]),t._v(" UDP/Datagram Sockets")]),t._v(" "),e("blockquote",[e("p",[t._v("Stability: 2 - Stable")])]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("dgram")]),t._v(" module provides an implementation of UDP Datagram sockets.")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dgram "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dgram'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" server "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dgram"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSocket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'udp4'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nserver"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("server error:\\n")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("err"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stack"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  server"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nserver"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("msg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rinfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("server got: ")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("msg"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v(" from ")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("rinfo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("rinfo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nserver"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'listening'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" address "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" server"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("address")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("server listening ")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("address"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("address"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("server")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Prints: server listening 0.0.0.0:41234")]),t._v("\n")])])]),e("h2",{attrs:{id:"class-dgram-socket"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#class-dgram-socket"}},[t._v("#")]),t._v(" Class: dgram.Socket")]),t._v(" "),e("ul",[e("li",[t._v("Extends: {EventEmitter}")])]),t._v(" "),e("p",[t._v("Encapsulates the datagram functionality.")]),t._v(" "),e("p",[t._v("New instances of "),e("code",[t._v("dgram.Socket")]),t._v(" are created using "),e("a",{attrs:{href:"#dgram_dgram_createsocket_options_callback"}},[e("code",[t._v("dgram.createSocket()")])]),t._v(".\nThe "),e("code",[t._v("new")]),t._v(" keyword is not to be used to create "),e("code",[t._v("dgram.Socket")]),t._v(" instances.")]),t._v(" "),e("h3",{attrs:{id:"event-close"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#event-close"}},[t._v("#")]),t._v(" Event: 'close'")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("'close'")]),t._v(" event is emitted after a socket is closed with "),e("a",{attrs:{href:"#dgram_socket_close_callback"}},[e("code",[t._v("close()")])]),t._v(".\nOnce triggered, no new "),e("code",[t._v("'message'")]),t._v(" events will be emitted on this socket.")]),t._v(" "),e("h3",{attrs:{id:"event-connect"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#event-connect"}},[t._v("#")]),t._v(" Event: 'connect'")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("'connect'")]),t._v(" event is emitted after a socket is associated to a remote\naddress as a result of a successful "),e("a",{attrs:{href:"#dgram_socket_connect_port_address_callback"}},[e("code",[t._v("connect()")])]),t._v(" call.")]),t._v(" "),e("h3",{attrs:{id:"event-error"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#event-error"}},[t._v("#")]),t._v(" Event: 'error'")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("exception")]),t._v(" {Error}")])]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("'error'")]),t._v(" event is emitted whenever any error occurs. The event handler\nfunction is passed a single "),e("code",[t._v("Error")]),t._v(" object.")]),t._v(" "),e("h3",{attrs:{id:"event-listening"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#event-listening"}},[t._v("#")]),t._v(" Event: 'listening'")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("'listening'")]),t._v(" event is emitted whenever a socket begins listening for\ndatagram messages. This occurs as soon as UDP sockets are created.")]),t._v(" "),e("h3",{attrs:{id:"event-message"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#event-message"}},[t._v("#")]),t._v(" Event: 'message'")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("'message'")]),t._v(" event is emitted when a new datagram is available on a socket.\nThe event handler function is passed two arguments: "),e("code",[t._v("msg")]),t._v(" and "),e("code",[t._v("rinfo")]),t._v(".")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("msg")]),t._v(" {Buffer} The message.")]),t._v(" "),e("li",[e("code",[t._v("rinfo")]),t._v(" {Object} Remote address information.\n"),e("ul",[e("li",[e("code",[t._v("address")]),t._v(" {string} The sender address.")]),t._v(" "),e("li",[e("code",[t._v("family")]),t._v(" {string} The address family ("),e("code",[t._v("'IPv4'")]),t._v(" or "),e("code",[t._v("'IPv6'")]),t._v(").")]),t._v(" "),e("li",[e("code",[t._v("port")]),t._v(" {number} The sender port.")]),t._v(" "),e("li",[e("code",[t._v("size")]),t._v(" {number} The message size.")])])])]),t._v(" "),e("h3",{attrs:{id:"socket-addmembership-multicastaddress-multicastinterface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-addmembership-multicastaddress-multicastinterface"}},[t._v("#")]),t._v(" socket.addMembership(multicastAddress[, multicastInterface])")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("multicastAddress")]),t._v(" {string}")]),t._v(" "),e("li",[e("code",[t._v("multicastInterface")]),t._v(" {string}")])]),t._v(" "),e("p",[t._v("Tells the kernel to join a multicast group at the given "),e("code",[t._v("multicastAddress")]),t._v(" and\n"),e("code",[t._v("multicastInterface")]),t._v(" using the "),e("code",[t._v("IP_ADD_MEMBERSHIP")]),t._v(" socket option. If the\n"),e("code",[t._v("multicastInterface")]),t._v(" argument is not specified, the operating system will choose\none interface and will add membership to it. To add membership to every\navailable interface, call "),e("code",[t._v("addMembership")]),t._v(" multiple times, once per interface.")]),t._v(" "),e("p",[t._v("When sharing a UDP socket across multiple "),e("code",[t._v("cluster")]),t._v(" workers, the\n"),e("code",[t._v("socket.addMembership()")]),t._v(" function must be called only once or an\n"),e("code",[t._v("EADDRINUSE")]),t._v(" error will occur:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cluster "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cluster'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dgram "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dgram'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cluster"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isMaster"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  cluster"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Works ok.")]),t._v("\n  cluster"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("fork")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Fails with EADDRINUSE.")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" s "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dgram"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSocket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'udp4'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("s")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("addMembership")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'224.0.0.114'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h3",{attrs:{id:"socket-addsourcespecificmembership-sourceaddress-groupaddress-multicastinterface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-addsourcespecificmembership-sourceaddress-groupaddress-multicastinterface"}},[t._v("#")]),t._v(" socket.addSourceSpecificMembership(sourceAddress, groupAddress[, multicastInterface])")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("sourceAddress")]),t._v(" {string}")]),t._v(" "),e("li",[e("code",[t._v("groupAddress")]),t._v(" {string}")]),t._v(" "),e("li",[e("code",[t._v("multicastInterface")]),t._v(" {string}")])]),t._v(" "),e("p",[t._v("Tells the kernel to join a source-specific multicast channel at the given\n"),e("code",[t._v("sourceAddress")]),t._v(" and "),e("code",[t._v("groupAddress")]),t._v(", using the "),e("code",[t._v("multicastInterface")]),t._v(" with the\n"),e("code",[t._v("IP_ADD_SOURCE_MEMBERSHIP")]),t._v(" socket option. If the "),e("code",[t._v("multicastInterface")]),t._v(" argument\nis not specified, the operating system will choose one interface and will add\nmembership to it. To add membership to every available interface, call\n"),e("code",[t._v("socket.addSourceSpecificMembership()")]),t._v(" multiple times, once per interface.")]),t._v(" "),e("h3",{attrs:{id:"socket-address"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-address"}},[t._v("#")]),t._v(" socket.address()")]),t._v(" "),e("ul",[e("li",[t._v("Returns: {Object}")])]),t._v(" "),e("p",[t._v("Returns an object containing the address information for a socket.\nFor UDP sockets, this object will contain "),e("code",[t._v("address")]),t._v(", "),e("code",[t._v("family")]),t._v(" and "),e("code",[t._v("port")]),t._v("\nproperties.")]),t._v(" "),e("h3",{attrs:{id:"socket-bind-port-address-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-bind-port-address-callback"}},[t._v("#")]),t._v(" socket.bind([port][, address][, callback])")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("port")]),t._v(" {integer}")]),t._v(" "),e("li",[e("code",[t._v("address")]),t._v(" {string}")]),t._v(" "),e("li",[e("code",[t._v("callback")]),t._v(" {Function} with no parameters. Called when binding is complete.")])]),t._v(" "),e("p",[t._v("For UDP sockets, causes the "),e("code",[t._v("dgram.Socket")]),t._v(" to listen for datagram\nmessages on a named "),e("code",[t._v("port")]),t._v(" and optional "),e("code",[t._v("address")]),t._v(". If "),e("code",[t._v("port")]),t._v(" is not\nspecified or is "),e("code",[t._v("0")]),t._v(", the operating system will attempt to bind to a\nrandom port. If "),e("code",[t._v("address")]),t._v(" is not specified, the operating system will\nattempt to listen on all addresses. Once binding is complete, a\n"),e("code",[t._v("'listening'")]),t._v(" event is emitted and the optional "),e("code",[t._v("callback")]),t._v(" function is\ncalled.")]),t._v(" "),e("p",[t._v("Specifying both a "),e("code",[t._v("'listening'")]),t._v(" event listener and passing a\n"),e("code",[t._v("callback")]),t._v(" to the "),e("code",[t._v("socket.bind()")]),t._v(" method is not harmful but not very\nuseful.")]),t._v(" "),e("p",[t._v("A bound datagram socket keeps the Node.js process running to receive\ndatagram messages.")]),t._v(" "),e("p",[t._v("If binding fails, an "),e("code",[t._v("'error'")]),t._v(" event is generated. In rare case (e.g.\nattempting to bind with a closed socket), an "),e("router-link",{attrs:{to:"/node/errors.html#errors_class_error"}},[e("code",[t._v("Error")])]),t._v(" may be thrown.")],1),t._v(" "),e("p",[t._v("Example of a UDP server listening on port 41234:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dgram "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dgram'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" server "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dgram"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSocket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'udp4'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nserver"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("server error:\\n")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("err"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stack"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  server"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nserver"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("msg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rinfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("server got: ")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("msg"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v(" from ")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("rinfo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("rinfo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nserver"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'listening'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" address "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" server"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("address")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  console"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token template-string"}},[e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("server listening ")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("address"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("address"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token interpolation"}},[e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("address"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("port"),e("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),e("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("server")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Prints: server listening 0.0.0.0:41234")]),t._v("\n")])])]),e("h3",{attrs:{id:"socket-bind-options-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-bind-options-callback"}},[t._v("#")]),t._v(" socket.bind(options[, callback])")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("options")]),t._v(" {Object} Required. Supports the following properties:\n"),e("ul",[e("li",[e("code",[t._v("port")]),t._v(" {integer}")]),t._v(" "),e("li",[e("code",[t._v("address")]),t._v(" {string}")]),t._v(" "),e("li",[e("code",[t._v("exclusive")]),t._v(" {boolean}")]),t._v(" "),e("li",[e("code",[t._v("fd")]),t._v(" {integer}")])])]),t._v(" "),e("li",[e("code",[t._v("callback")]),t._v(" {Function}")])]),t._v(" "),e("p",[t._v("For UDP sockets, causes the "),e("code",[t._v("dgram.Socket")]),t._v(" to listen for datagram\nmessages on a named "),e("code",[t._v("port")]),t._v(" and optional "),e("code",[t._v("address")]),t._v(" that are passed as\nproperties of an "),e("code",[t._v("options")]),t._v(" object passed as the first argument. If\n"),e("code",[t._v("port")]),t._v(" is not specified or is "),e("code",[t._v("0")]),t._v(", the operating system will attempt\nto bind to a random port. If "),e("code",[t._v("address")]),t._v(" is not specified, the operating\nsystem will attempt to listen on all addresses. Once binding is\ncomplete, a "),e("code",[t._v("'listening'")]),t._v(" event is emitted and the optional "),e("code",[t._v("callback")]),t._v("\nfunction is called.")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("options")]),t._v(" object may contain a "),e("code",[t._v("fd")]),t._v(" property. When a "),e("code",[t._v("fd")]),t._v(" greater\nthan "),e("code",[t._v("0")]),t._v(" is set, it will wrap around an existing socket with the given\nfile descriptor. In this case, the properties of "),e("code",[t._v("port")]),t._v(" and "),e("code",[t._v("address")]),t._v("\nwill be ignored.")]),t._v(" "),e("p",[t._v("Specifying both a "),e("code",[t._v("'listening'")]),t._v(" event listener and passing a\n"),e("code",[t._v("callback")]),t._v(" to the "),e("code",[t._v("socket.bind()")]),t._v(" method is not harmful but not very\nuseful.")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("options")]),t._v(" object may contain an additional "),e("code",[t._v("exclusive")]),t._v(" property that is\nused when using "),e("code",[t._v("dgram.Socket")]),t._v(" objects with the "),e("router-link",{attrs:{to:"/node/cluster.html"}},[e("code",[t._v("cluster")])]),t._v(" module. When\n"),e("code",[t._v("exclusive")]),t._v(" is set to "),e("code",[t._v("false")]),t._v(" (the default), cluster workers will use the same\nunderlying socket handle allowing connection handling duties to be shared.\nWhen "),e("code",[t._v("exclusive")]),t._v(" is "),e("code",[t._v("true")]),t._v(", however, the handle is not shared and attempted\nport sharing results in an error.")],1),t._v(" "),e("p",[t._v("A bound datagram socket keeps the Node.js process running to receive\ndatagram messages.")]),t._v(" "),e("p",[t._v("If binding fails, an "),e("code",[t._v("'error'")]),t._v(" event is generated. In rare case (e.g.\nattempting to bind with a closed socket), an "),e("router-link",{attrs:{to:"/node/errors.html#errors_class_error"}},[e("code",[t._v("Error")])]),t._v(" may be thrown.")],1),t._v(" "),e("p",[t._v("An example socket listening on an exclusive port is shown below.")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("socket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  address"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  port"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("8000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  exclusive"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h3",{attrs:{id:"socket-close-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-close-callback"}},[t._v("#")]),t._v(" socket.close([callback])")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("callback")]),t._v(" {Function} Called when the socket has been closed.")])]),t._v(" "),e("p",[t._v("Close the underlying socket and stop listening for data on it. If a callback is\nprovided, it is added as a listener for the "),e("a",{attrs:{href:"#dgram_event_close"}},[e("code",[t._v("'close'")])]),t._v(" event.")]),t._v(" "),e("h3",{attrs:{id:"socket-connect-port-address-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-connect-port-address-callback"}},[t._v("#")]),t._v(" socket.connect(port[, address][, callback])")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("port")]),t._v(" {integer}")]),t._v(" "),e("li",[e("code",[t._v("address")]),t._v(" {string}")]),t._v(" "),e("li",[e("code",[t._v("callback")]),t._v(" {Function} Called when the connection is completed or on error.")])]),t._v(" "),e("p",[t._v("Associates the "),e("code",[t._v("dgram.Socket")]),t._v(" to a remote address and port. Every\nmessage sent by this handle is automatically sent to that destination. Also,\nthe socket will only receive messages from that remote peer.\nTrying to call "),e("code",[t._v("connect()")]),t._v(" on an already connected socket will result\nin an "),e("router-link",{attrs:{to:"/node/errors.html#errors_err_socket_dgram_is_connected"}},[e("code",[t._v("ERR_SOCKET_DGRAM_IS_CONNECTED")])]),t._v(" exception. If "),e("code",[t._v("address")]),t._v(" is not\nprovided, "),e("code",[t._v("'127.0.0.1'")]),t._v(" (for "),e("code",[t._v("udp4")]),t._v(" sockets) or "),e("code",[t._v("'::1'")]),t._v(" (for "),e("code",[t._v("udp6")]),t._v(" sockets)\nwill be used by default. Once the connection is complete, a "),e("code",[t._v("'connect'")]),t._v(" event\nis emitted and the optional "),e("code",[t._v("callback")]),t._v(" function is called. In case of failure,\nthe "),e("code",[t._v("callback")]),t._v(" is called or, failing this, an "),e("code",[t._v("'error'")]),t._v(" event is emitted.")],1),t._v(" "),e("h3",{attrs:{id:"socket-disconnect"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-disconnect"}},[t._v("#")]),t._v(" socket.disconnect()")]),t._v(" "),e("p",[t._v("A synchronous function that disassociates a connected "),e("code",[t._v("dgram.Socket")]),t._v(" from\nits remote address. Trying to call "),e("code",[t._v("disconnect()")]),t._v(" on an already disconnected\nsocket will result in an "),e("router-link",{attrs:{to:"/node/errors.html#errors_err_socket_dgram_not_connected"}},[e("code",[t._v("ERR_SOCKET_DGRAM_NOT_CONNECTED")])]),t._v(" exception.")],1),t._v(" "),e("h3",{attrs:{id:"socket-dropmembership-multicastaddress-multicastinterface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-dropmembership-multicastaddress-multicastinterface"}},[t._v("#")]),t._v(" socket.dropMembership(multicastAddress[, multicastInterface])")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("multicastAddress")]),t._v(" {string}")]),t._v(" "),e("li",[e("code",[t._v("multicastInterface")]),t._v(" {string}")])]),t._v(" "),e("p",[t._v("Instructs the kernel to leave a multicast group at "),e("code",[t._v("multicastAddress")]),t._v(" using the\n"),e("code",[t._v("IP_DROP_MEMBERSHIP")]),t._v(" socket option. This method is automatically called by the\nkernel when the socket is closed or the process terminates, so most apps will\nnever have reason to call this.")]),t._v(" "),e("p",[t._v("If "),e("code",[t._v("multicastInterface")]),t._v(" is not specified, the operating system will attempt to\ndrop membership on all valid interfaces.")]),t._v(" "),e("h3",{attrs:{id:"socket-dropsourcespecificmembership-sourceaddress-groupaddress-multicastinterface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-dropsourcespecificmembership-sourceaddress-groupaddress-multicastinterface"}},[t._v("#")]),t._v(" socket.dropSourceSpecificMembership(sourceAddress, groupAddress[, multicastInterface])")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("sourceAddress")]),t._v(" {string}")]),t._v(" "),e("li",[e("code",[t._v("groupAddress")]),t._v(" {string}")]),t._v(" "),e("li",[e("code",[t._v("multicastInterface")]),t._v(" {string}")])]),t._v(" "),e("p",[t._v("Instructs the kernel to leave a source-specific multicast channel at the given\n"),e("code",[t._v("sourceAddress")]),t._v(" and "),e("code",[t._v("groupAddress")]),t._v(" using the "),e("code",[t._v("IP_DROP_SOURCE_MEMBERSHIP")]),t._v("\nsocket option. This method is automatically called by the kernel when the\nsocket is closed or the process terminates, so most apps will never have\nreason to call this.")]),t._v(" "),e("p",[t._v("If "),e("code",[t._v("multicastInterface")]),t._v(" is not specified, the operating system will attempt to\ndrop membership on all valid interfaces.")]),t._v(" "),e("h3",{attrs:{id:"socket-getrecvbuffersize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-getrecvbuffersize"}},[t._v("#")]),t._v(" socket.getRecvBufferSize()")]),t._v(" "),e("ul",[e("li",[t._v("Returns: {number} the "),e("code",[t._v("SO_RCVBUF")]),t._v(" socket receive buffer size in bytes.")])]),t._v(" "),e("h3",{attrs:{id:"socket-getsendbuffersize"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-getsendbuffersize"}},[t._v("#")]),t._v(" socket.getSendBufferSize()")]),t._v(" "),e("ul",[e("li",[t._v("Returns: {number} the "),e("code",[t._v("SO_SNDBUF")]),t._v(" socket send buffer size in bytes.")])]),t._v(" "),e("h3",{attrs:{id:"socket-ref"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-ref"}},[t._v("#")]),t._v(" socket.ref()")]),t._v(" "),e("ul",[e("li",[t._v("Returns: {dgram.Socket}")])]),t._v(" "),e("p",[t._v("By default, binding a socket will cause it to block the Node.js process from\nexiting as long as the socket is open. The "),e("code",[t._v("socket.unref()")]),t._v(" method can be used\nto exclude the socket from the reference counting that keeps the Node.js\nprocess active. The "),e("code",[t._v("socket.ref()")]),t._v(" method adds the socket back to the reference\ncounting and restores the default behavior.")]),t._v(" "),e("p",[t._v("Calling "),e("code",[t._v("socket.ref()")]),t._v(" multiples times will have no additional effect.")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("socket.ref()")]),t._v(" method returns a reference to the socket so calls can be\nchained.")]),t._v(" "),e("h3",{attrs:{id:"socket-remoteaddress"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-remoteaddress"}},[t._v("#")]),t._v(" socket.remoteAddress()")]),t._v(" "),e("ul",[e("li",[t._v("Returns: {Object}")])]),t._v(" "),e("p",[t._v("Returns an object containing the "),e("code",[t._v("address")]),t._v(", "),e("code",[t._v("family")]),t._v(", and "),e("code",[t._v("port")]),t._v(" of the remote\nendpoint. It throws an "),e("router-link",{attrs:{to:"/node/errors.html#errors_err_socket_dgram_not_connected"}},[e("code",[t._v("ERR_SOCKET_DGRAM_NOT_CONNECTED")])]),t._v(" exception if the\nsocket is not connected.")],1),t._v(" "),e("h3",{attrs:{id:"socket-send-msg-offset-length-port-address-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-send-msg-offset-length-port-address-callback"}},[t._v("#")]),t._v(" socket.send(msg[, offset, length][, port][, address][, callback])")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("msg")]),t._v(" {Buffer|Uint8Array|string|Array} Message to be sent.")]),t._v(" "),e("li",[e("code",[t._v("offset")]),t._v(" {integer} Offset in the buffer where the message starts.")]),t._v(" "),e("li",[e("code",[t._v("length")]),t._v(" {integer} Number of bytes in the message.")]),t._v(" "),e("li",[e("code",[t._v("port")]),t._v(" {integer} Destination port.")]),t._v(" "),e("li",[e("code",[t._v("address")]),t._v(" {string} Destination hostname or IP address.")]),t._v(" "),e("li",[e("code",[t._v("callback")]),t._v(" {Function} Called when the message has been sent.")])]),t._v(" "),e("p",[t._v("Broadcasts a datagram on the socket.\nFor connectionless sockets, the destination "),e("code",[t._v("port")]),t._v(" and "),e("code",[t._v("address")]),t._v(" must be\nspecified. Connected sockets, on the other hand, will use their associated\nremote endpoint, so the "),e("code",[t._v("port")]),t._v(" and "),e("code",[t._v("address")]),t._v(" arguments must not be set.")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("msg")]),t._v(" argument contains the message to be sent.\nDepending on its type, different behavior can apply. If "),e("code",[t._v("msg")]),t._v(" is a "),e("code",[t._v("Buffer")]),t._v("\nor "),e("code",[t._v("Uint8Array")]),t._v(",\nthe "),e("code",[t._v("offset")]),t._v(" and "),e("code",[t._v("length")]),t._v(" specify the offset within the "),e("code",[t._v("Buffer")]),t._v(" where the\nmessage begins and the number of bytes in the message, respectively.\nIf "),e("code",[t._v("msg")]),t._v(" is a "),e("code",[t._v("String")]),t._v(", then it is automatically converted to a "),e("code",[t._v("Buffer")]),t._v("\nwith "),e("code",[t._v("'utf8'")]),t._v(" encoding. With messages that\ncontain multi-byte characters, "),e("code",[t._v("offset")]),t._v(" and "),e("code",[t._v("length")]),t._v(" will be calculated with\nrespect to "),e("router-link",{attrs:{to:"/node/buffer.html#buffer_class_method_buffer_bytelength_string_encoding"}},[t._v("byte length")]),t._v(" and not the character position.\nIf "),e("code",[t._v("msg")]),t._v(" is an array, "),e("code",[t._v("offset")]),t._v(" and "),e("code",[t._v("length")]),t._v(" must not be specified.")],1),t._v(" "),e("p",[t._v("The "),e("code",[t._v("address")]),t._v(" argument is a string. If the value of "),e("code",[t._v("address")]),t._v(" is a host name,\nDNS will be used to resolve the address of the host. If "),e("code",[t._v("address")]),t._v(" is not\nprovided or otherwise falsy, "),e("code",[t._v("'127.0.0.1'")]),t._v(" (for "),e("code",[t._v("udp4")]),t._v(" sockets) or "),e("code",[t._v("'::1'")]),t._v("\n(for "),e("code",[t._v("udp6")]),t._v(" sockets) will be used by default.")]),t._v(" "),e("p",[t._v("If the socket has not been previously bound with a call to "),e("code",[t._v("bind")]),t._v(', the socket\nis assigned a random port number and is bound to the "all interfaces" address\n('),e("code",[t._v("'0.0.0.0'")]),t._v(" for "),e("code",[t._v("udp4")]),t._v(" sockets, "),e("code",[t._v("'::0'")]),t._v(" for "),e("code",[t._v("udp6")]),t._v(" sockets.)")]),t._v(" "),e("p",[t._v("An optional "),e("code",[t._v("callback")]),t._v(" function may be specified to as a way of reporting\nDNS errors or for determining when it is safe to reuse the "),e("code",[t._v("buf")]),t._v(" object.\nDNS lookups delay the time to send for at least one tick of the\nNode.js event loop.")]),t._v(" "),e("p",[t._v("The only way to know for sure that the datagram has been sent is by using a\n"),e("code",[t._v("callback")]),t._v(". If an error occurs and a "),e("code",[t._v("callback")]),t._v(" is given, the error will be\npassed as the first argument to the "),e("code",[t._v("callback")]),t._v(". If a "),e("code",[t._v("callback")]),t._v(" is not given,\nthe error is emitted as an "),e("code",[t._v("'error'")]),t._v(" event on the "),e("code",[t._v("socket")]),t._v(" object.")]),t._v(" "),e("p",[t._v("Offset and length are optional but both "),e("em",[t._v("must")]),t._v(" be set if either are used.\nThey are supported only when the first argument is a "),e("code",[t._v("Buffer")]),t._v(" or "),e("code",[t._v("Uint8Array")]),t._v(".")]),t._v(" "),e("p",[t._v("Example of sending a UDP packet to a port on "),e("code",[t._v("localhost")]),t._v(";")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dgram "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dgram'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" message "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Buffer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Some bytes'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" client "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dgram"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSocket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'udp4'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nclient"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  client"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Example of sending a UDP packet composed of multiple buffers to a port on\n"),e("code",[t._v("127.0.0.1")]),t._v(";")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dgram "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dgram'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" buf1 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Buffer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Some '")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" buf2 "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Buffer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bytes'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" client "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dgram"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSocket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'udp4'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nclient"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("buf1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" buf2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  client"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Sending multiple buffers might be faster or slower depending on the\napplication and operating system. Run benchmarks to\ndetermine the optimal strategy on a case-by-case basis. Generally speaking,\nhowever, sending multiple buffers is faster.")]),t._v(" "),e("p",[t._v("Example of sending a UDP packet using a socket connected to a port on\n"),e("code",[t._v("localhost")]),t._v(":")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" dgram "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dgram'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" message "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Buffer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("from")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Some bytes'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" client "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dgram"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSocket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'udp4'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nclient"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("41234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  client"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("message"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    client"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h4",{attrs:{id:"note-about-udp-datagram-size"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#note-about-udp-datagram-size"}},[t._v("#")]),t._v(" Note about UDP datagram size")]),t._v(" "),e("p",[t._v("The maximum size of an "),e("code",[t._v("IPv4/v6")]),t._v(" datagram depends on the "),e("code",[t._v("MTU")]),t._v("\n("),e("em",[t._v("Maximum Transmission Unit")]),t._v(") and on the "),e("code",[t._v("Payload Length")]),t._v(" field size.")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("The "),e("code",[t._v("Payload Length")]),t._v(" field is "),e("code",[t._v("16 bits")]),t._v(" wide, which means that a normal\npayload exceed 64K octets "),e("em",[t._v("including")]),t._v(" the internet header and data\n(65,507 bytes = 65,535  8 bytes UDP header  20 bytes IP header);\nthis is generally true for loopback interfaces, but such long datagram\nmessages are impractical for most hosts and networks.")])]),t._v(" "),e("li",[e("p",[t._v("The "),e("code",[t._v("MTU")]),t._v(" is the largest size a given link layer technology can support for\ndatagram messages. For any link, "),e("code",[t._v("IPv4")]),t._v(" mandates a minimum "),e("code",[t._v("MTU")]),t._v(" of "),e("code",[t._v("68")]),t._v("\noctets, while the recommended "),e("code",[t._v("MTU")]),t._v(" for IPv4 is "),e("code",[t._v("576")]),t._v(" (typically recommended\nas the "),e("code",[t._v("MTU")]),t._v(" for dial-up type applications), whether they arrive whole or in\nfragments.")]),t._v(" "),e("p",[t._v("For "),e("code",[t._v("IPv6")]),t._v(", the minimum "),e("code",[t._v("MTU")]),t._v(" is "),e("code",[t._v("1280")]),t._v(" octets, however, the mandatory minimum\nfragment reassembly buffer size is "),e("code",[t._v("1500")]),t._v(" octets. The value of "),e("code",[t._v("68")]),t._v(" octets is\nvery small, since most current link layer technologies, like Ethernet, have a\nminimum "),e("code",[t._v("MTU")]),t._v(" of "),e("code",[t._v("1500")]),t._v(".")])])]),t._v(" "),e("p",[t._v("It is impossible to know in advance the MTU of each link through which\na packet might travel. Sending a datagram greater than the receiver "),e("code",[t._v("MTU")]),t._v(" will\nnot work because the packet will get silently dropped without informing the\nsource that the data did not reach its intended recipient.")]),t._v(" "),e("h3",{attrs:{id:"socket-setbroadcast-flag"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-setbroadcast-flag"}},[t._v("#")]),t._v(" socket.setBroadcast(flag)")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("flag")]),t._v(" {boolean}")])]),t._v(" "),e("p",[t._v("Sets or clears the "),e("code",[t._v("SO_BROADCAST")]),t._v(" socket option. When set to "),e("code",[t._v("true")]),t._v(", UDP\npackets may be sent to a local interface's broadcast address.")]),t._v(" "),e("h3",{attrs:{id:"socket-setmulticastinterface-multicastinterface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-setmulticastinterface-multicastinterface"}},[t._v("#")]),t._v(" socket.setMulticastInterface(multicastInterface)")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("multicastInterface")]),t._v(" {string}")])]),t._v(" "),e("p",[e("em",[t._v("All references to scope in this section are referring to\n"),e("a",{attrs:{href:"https://en.wikipedia.org/wiki/IPv6_address#Scoped_literal_IPv6_addresses",target:"_blank",rel:"noopener noreferrer"}},[t._v("IPv6 Zone Indices"),e("OutboundLink")],1),t._v(", which are defined by "),e("a",{attrs:{href:"https://tools.ietf.org/html/rfc4007",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 4007"),e("OutboundLink")],1),t._v(". In string form, an IP\nwith a scope index is written as "),e("code",[t._v("'IP%scope'")]),t._v(" where scope is an interface name\nor interface number.")])]),t._v(" "),e("p",[t._v("Sets the default outgoing multicast interface of the socket to a chosen\ninterface or back to system interface selection. The "),e("code",[t._v("multicastInterface")]),t._v(" must\nbe a valid string representation of an IP from the socket's family.")]),t._v(" "),e("p",[t._v("For IPv4 sockets, this should be the IP configured for the desired physical\ninterface. All packets sent to multicast on the socket will be sent on the\ninterface determined by the most recent successful use of this call.")]),t._v(" "),e("p",[t._v("For IPv6 sockets, "),e("code",[t._v("multicastInterface")]),t._v(" should include a scope to indicate the\ninterface as in the examples that follow. In IPv6, individual "),e("code",[t._v("send")]),t._v(" calls can\nalso use explicit scope in addresses, so only packets sent to a multicast\naddress without specifying an explicit scope are affected by the most recent\nsuccessful use of this call.")]),t._v(" "),e("h4",{attrs:{id:"examples-ipv6-outgoing-multicast-interface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples-ipv6-outgoing-multicast-interface"}},[t._v("#")]),t._v(" Examples: IPv6 Outgoing Multicast Interface")]),t._v(" "),e("p",[t._v("On most systems, where scope format uses the interface name:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" socket "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dgram"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSocket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'udp6'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("socket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  socket"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setMulticastInterface")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'::%eth1'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("On Windows, where scope format uses an interface number:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" socket "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dgram"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSocket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'udp6'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("socket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  socket"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setMulticastInterface")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'::%2'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h4",{attrs:{id:"example-ipv4-outgoing-multicast-interface"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example-ipv4-outgoing-multicast-interface"}},[t._v("#")]),t._v(" Example: IPv4 Outgoing Multicast Interface")]),t._v(" "),e("p",[t._v("All systems use an IP of the host on the desired physical interface:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" socket "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" dgram"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSocket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'udp4'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("socket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  socket"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setMulticastInterface")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'10.0.0.2'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h4",{attrs:{id:"call-results"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#call-results"}},[t._v("#")]),t._v(" Call Results")]),t._v(" "),e("p",[t._v("A call on a socket that is not ready to send or no longer open may throw a "),e("em",[t._v("Not\nrunning")]),t._v(" "),e("router-link",{attrs:{to:"/node/errors.html#errors_class_error"}},[e("code",[t._v("Error")])]),t._v(".")],1),t._v(" "),e("p",[t._v("If "),e("code",[t._v("multicastInterface")]),t._v(" can not be parsed into an IP then an "),e("em",[t._v("EINVAL")]),t._v(" "),e("router-link",{attrs:{to:"/node/errors.html#errors_class_systemerror"}},[e("code",[t._v("System Error")])]),t._v(" is thrown.")],1),t._v(" "),e("p",[t._v("On IPv4, if "),e("code",[t._v("multicastInterface")]),t._v(" is a valid address but does not match any\ninterface, or if the address does not match the family then\na "),e("router-link",{attrs:{to:"/node/errors.html#errors_class_systemerror"}},[e("code",[t._v("System Error")])]),t._v(" such as "),e("code",[t._v("EADDRNOTAVAIL")]),t._v(" or "),e("code",[t._v("EPROTONOSUP")]),t._v(" is thrown.")],1),t._v(" "),e("p",[t._v("On IPv6, most errors with specifying or omitting scope will result in the socket\ncontinuing to use (or returning to) the system's default interface selection.")]),t._v(" "),e("p",[t._v("A socket's address family's ANY address (IPv4 "),e("code",[t._v("'0.0.0.0'")]),t._v(" or IPv6 "),e("code",[t._v("'::'")]),t._v(") can be\nused to return control of the sockets default outgoing interface to the system\nfor future multicast packets.")]),t._v(" "),e("h3",{attrs:{id:"socket-setmulticastloopback-flag"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-setmulticastloopback-flag"}},[t._v("#")]),t._v(" socket.setMulticastLoopback(flag)")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("flag")]),t._v(" {boolean}")])]),t._v(" "),e("p",[t._v("Sets or clears the "),e("code",[t._v("IP_MULTICAST_LOOP")]),t._v(" socket option. When set to "),e("code",[t._v("true")]),t._v(",\nmulticast packets will also be received on the local interface.")]),t._v(" "),e("h3",{attrs:{id:"socket-setmulticastttl-ttl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-setmulticastttl-ttl"}},[t._v("#")]),t._v(" socket.setMulticastTTL(ttl)")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("ttl")]),t._v(" {integer}")])]),t._v(" "),e("p",[t._v("Sets the "),e("code",[t._v("IP_MULTICAST_TTL")]),t._v(' socket option. While TTL generally stands for\n"Time to Live", in this context it specifies the number of IP hops that a\npacket is allowed to travel through, specifically for multicast traffic. Each\nrouter or gateway that forwards a packet decrements the TTL. If the TTL is\ndecremented to 0 by a router, it will not be forwarded.')]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("ttl")]),t._v(" argument may be between 0 and 255. The default on most systems is "),e("code",[t._v("1")]),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"socket-setrecvbuffersize-size"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-setrecvbuffersize-size"}},[t._v("#")]),t._v(" socket.setRecvBufferSize(size)")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("size")]),t._v(" {integer}")])]),t._v(" "),e("p",[t._v("Sets the "),e("code",[t._v("SO_RCVBUF")]),t._v(" socket option. Sets the maximum socket receive buffer\nin bytes.")]),t._v(" "),e("h3",{attrs:{id:"socket-setsendbuffersize-size"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-setsendbuffersize-size"}},[t._v("#")]),t._v(" socket.setSendBufferSize(size)")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("size")]),t._v(" {integer}")])]),t._v(" "),e("p",[t._v("Sets the "),e("code",[t._v("SO_SNDBUF")]),t._v(" socket option. Sets the maximum socket send buffer\nin bytes.")]),t._v(" "),e("h3",{attrs:{id:"socket-setttl-ttl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-setttl-ttl"}},[t._v("#")]),t._v(" socket.setTTL(ttl)")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("ttl")]),t._v(" {integer}")])]),t._v(" "),e("p",[t._v("Sets the "),e("code",[t._v("IP_TTL")]),t._v(' socket option. While TTL generally stands for "Time to Live",\nin this context it specifies the number of IP hops that a packet is allowed to\ntravel through. Each router or gateway that forwards a packet decrements the\nTTL. If the TTL is decremented to 0 by a router, it will not be forwarded.\nChanging TTL values is typically done for network probes or when multicasting.')]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("ttl")]),t._v(" argument may be between between 1 and 255. The default on most systems\nis 64.")]),t._v(" "),e("h3",{attrs:{id:"socket-unref"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#socket-unref"}},[t._v("#")]),t._v(" socket.unref()")]),t._v(" "),e("ul",[e("li",[t._v("Returns: {dgram.Socket}")])]),t._v(" "),e("p",[t._v("By default, binding a socket will cause it to block the Node.js process from\nexiting as long as the socket is open. The "),e("code",[t._v("socket.unref()")]),t._v(" method can be used\nto exclude the socket from the reference counting that keeps the Node.js\nprocess active, allowing the process to exit even if the socket is still\nlistening.")]),t._v(" "),e("p",[t._v("Calling "),e("code",[t._v("socket.unref()")]),t._v(" multiple times will have no addition effect.")]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("socket.unref()")]),t._v(" method returns a reference to the socket so calls can be\nchained.")]),t._v(" "),e("h2",{attrs:{id:"dgram-module-functions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dgram-module-functions"}},[t._v("#")]),t._v(" "),e("code",[t._v("dgram")]),t._v(" module functions")]),t._v(" "),e("h3",{attrs:{id:"dgram-createsocket-options-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dgram-createsocket-options-callback"}},[t._v("#")]),t._v(" dgram.createSocket(options[, callback])")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("options")]),t._v(" {Object} Available options are:\n"),e("ul",[e("li",[e("code",[t._v("type")]),t._v(" {string} The family of socket. Must be either "),e("code",[t._v("'udp4'")]),t._v(" or "),e("code",[t._v("'udp6'")]),t._v(".\nRequired.")]),t._v(" "),e("li",[e("code",[t._v("reuseAddr")]),t._v(" {boolean} When "),e("code",[t._v("true")]),t._v(" "),e("a",{attrs:{href:"#dgram_socket_bind_port_address_callback"}},[e("code",[t._v("socket.bind()")])]),t._v(" will reuse the\naddress, even if another process has already bound a socket on it.\n"),e("strong",[t._v("Default:")]),t._v(" "),e("code",[t._v("false")]),t._v(".")]),t._v(" "),e("li",[e("code",[t._v("ipv6Only")]),t._v(" {boolean} Setting "),e("code",[t._v("ipv6Only")]),t._v(" to "),e("code",[t._v("true")]),t._v(" will\ndisable dual-stack support, i.e., binding to address "),e("code",[t._v("::")]),t._v(" won't make\n"),e("code",[t._v("0.0.0.0")]),t._v(" be bound. "),e("strong",[t._v("Default:")]),t._v(" "),e("code",[t._v("false")]),t._v(".")]),t._v(" "),e("li",[e("code",[t._v("recvBufferSize")]),t._v(" {number} Sets the "),e("code",[t._v("SO_RCVBUF")]),t._v(" socket value.")]),t._v(" "),e("li",[e("code",[t._v("sendBufferSize")]),t._v(" {number} Sets the "),e("code",[t._v("SO_SNDBUF")]),t._v(" socket value.")]),t._v(" "),e("li",[e("code",[t._v("lookup")]),t._v(" {Function} Custom lookup function. "),e("strong",[t._v("Default:")]),t._v(" "),e("router-link",{attrs:{to:"/node/dns.html#dns_dns_lookup_hostname_options_callback"}},[e("code",[t._v("dns.lookup()")])]),t._v(".")],1)])]),t._v(" "),e("li",[e("code",[t._v("callback")]),t._v(" {Function} Attached as a listener for "),e("code",[t._v("'message'")]),t._v(" events. Optional.")]),t._v(" "),e("li",[t._v("Returns: {dgram.Socket}")])]),t._v(" "),e("p",[t._v("Creates a "),e("code",[t._v("dgram.Socket")]),t._v(" object. Once the socket is created, calling\n"),e("a",{attrs:{href:"#dgram_socket_bind_port_address_callback"}},[e("code",[t._v("socket.bind()")])]),t._v(" will instruct the socket to begin listening for datagram\nmessages. When "),e("code",[t._v("address")]),t._v(" and "),e("code",[t._v("port")]),t._v(" are not passed to "),e("a",{attrs:{href:"#dgram_socket_bind_port_address_callback"}},[e("code",[t._v("socket.bind()")])]),t._v(' the\nmethod will bind the socket to the "all interfaces" address on a random port\n(it does the right thing for both '),e("code",[t._v("udp4")]),t._v(" and "),e("code",[t._v("udp6")]),t._v(" sockets). The bound address\nand port can be retrieved using "),e("a",{attrs:{href:"#dgram_socket_address"}},[e("code",[t._v("socket.address().address")])]),t._v(" and\n"),e("a",{attrs:{href:"#dgram_socket_address"}},[e("code",[t._v("socket.address().port")])]),t._v(".")]),t._v(" "),e("h3",{attrs:{id:"dgram-createsocket-type-callback"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dgram-createsocket-type-callback"}},[t._v("#")]),t._v(" dgram.createSocket(type[, callback])")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("type")]),t._v(" {string} Either "),e("code",[t._v("'udp4'")]),t._v(" or "),e("code",[t._v("'udp6'")]),t._v(".")]),t._v(" "),e("li",[e("code",[t._v("callback")]),t._v(" {Function} Attached as a listener to "),e("code",[t._v("'message'")]),t._v(" events.")]),t._v(" "),e("li",[t._v("Returns: {dgram.Socket}")])]),t._v(" "),e("p",[t._v("Creates a "),e("code",[t._v("dgram.Socket")]),t._v(" object of the specified "),e("code",[t._v("type")]),t._v(".")]),t._v(" "),e("p",[t._v("Once the socket is created, calling "),e("a",{attrs:{href:"#dgram_socket_bind_port_address_callback"}},[e("code",[t._v("socket.bind()")])]),t._v(" will instruct the\nsocket to begin listening for datagram messages. When "),e("code",[t._v("address")]),t._v(" and "),e("code",[t._v("port")]),t._v(" are\nnot passed to "),e("a",{attrs:{href:"#dgram_socket_bind_port_address_callback"}},[e("code",[t._v("socket.bind()")])]),t._v(' the method will bind the socket to the "all\ninterfaces" address on a random port (it does the right thing for both '),e("code",[t._v("udp4")]),t._v("\nand "),e("code",[t._v("udp6")]),t._v(" sockets). The bound address and port can be retrieved using\n"),e("a",{attrs:{href:"#dgram_socket_address"}},[e("code",[t._v("socket.address().address")])]),t._v(" and "),e("a",{attrs:{href:"#dgram_socket_address"}},[e("code",[t._v("socket.address().port")])]),t._v(".")])])}),[],!1,null,null,null);s.default=n.exports}}]);