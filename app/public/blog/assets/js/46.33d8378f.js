(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{261:function(t,e,s){"use strict";s.r(e);var n=s(3),a=Object(n.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"query-string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#query-string"}},[t._v("#")]),t._v(" Query String")]),t._v(" "),s("blockquote",[s("p",[t._v("Stability: 2 - Stable")])]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("querystring")]),t._v(" module provides utilities for parsing and formatting URL\nquery strings. It can be accessed using:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" querystring "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'querystring'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"querystring-decode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#querystring-decode"}},[t._v("#")]),t._v(" querystring.decode()")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("querystring.decode()")]),t._v(" function is an alias for "),s("code",[t._v("querystring.parse()")]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"querystring-encode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#querystring-encode"}},[t._v("#")]),t._v(" querystring.encode()")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("querystring.encode()")]),t._v(" function is an alias for "),s("code",[t._v("querystring.stringify()")]),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"querystring-escape-str"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#querystring-escape-str"}},[t._v("#")]),t._v(" querystring.escape(str)")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("str")]),t._v(" {string}")])]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("querystring.escape()")]),t._v(" method performs URL percent-encoding on the given\n"),s("code",[t._v("str")]),t._v(" in a manner that is optimized for the specific requirements of URL\nquery strings.")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("querystring.escape()")]),t._v(" method is used by "),s("code",[t._v("querystring.stringify()")]),t._v(" and is\ngenerally not expected to be used directly. It is exported primarily to allow\napplication code to provide a replacement percent-encoding implementation if\nnecessary by assigning "),s("code",[t._v("querystring.escape")]),t._v(" to an alternative function.")]),t._v(" "),s("h2",{attrs:{id:"querystring-parse-str-sep-eq-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#querystring-parse-str-sep-eq-options"}},[t._v("#")]),t._v(" querystring.parse(str[, sep[, eq[, options]]])")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("str")]),t._v(" {string} The URL query string to parse")]),t._v(" "),s("li",[s("code",[t._v("sep")]),t._v(" {string} The substring used to delimit key and value pairs in the\nquery string. "),s("strong",[t._v("Default:")]),t._v(" "),s("code",[t._v("'&'")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("eq")]),t._v(" {string}. The substring used to delimit keys and values in the\nquery string. "),s("strong",[t._v("Default:")]),t._v(" "),s("code",[t._v("'='")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("options")]),t._v(" {Object}\n"),s("ul",[s("li",[s("code",[t._v("decodeURIComponent")]),t._v(" {Function} The function to use when decoding\npercent-encoded characters in the query string. "),s("strong",[t._v("Default:")]),t._v(" "),s("code",[t._v("querystring.unescape()")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("maxKeys")]),t._v(" {number} Specifies the maximum number of keys to parse.\nSpecify "),s("code",[t._v("0")]),t._v(" to remove key counting limitations. "),s("strong",[t._v("Default:")]),t._v(" "),s("code",[t._v("1000")]),t._v(".")])])])]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("querystring.parse()")]),t._v(" method parses a URL query string ("),s("code",[t._v("str")]),t._v(") into a\ncollection of key and value pairs.")]),t._v(" "),s("p",[t._v("For example, the query string "),s("code",[t._v("'foo=bar&abc=xyz&abc=123'")]),t._v(" is parsed into:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  abc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xyz'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'123'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("The object returned by the "),s("code",[t._v("querystring.parse()")]),t._v(" method "),s("em",[t._v("does not")]),t._v("\nprototypically inherit from the JavaScript "),s("code",[t._v("Object")]),t._v(". This means that typical\n"),s("code",[t._v("Object")]),t._v(" methods such as "),s("code",[t._v("obj.toString()")]),t._v(", "),s("code",[t._v("obj.hasOwnProperty()")]),t._v(", and others\nare not defined and "),s("em",[t._v("will not work")]),t._v(".")]),t._v(" "),s("p",[t._v("By default, percent-encoded characters within the query string will be assumed\nto use UTF-8 encoding. If an alternative character encoding is used, then an\nalternative "),s("code",[t._v("decodeURIComponent")]),t._v(" option will need to be specified:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Assuming gbkDecodeURIComponent function already exists...")]),t._v("\n\nquerystring"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'w=%D6%D0%CE%C4&foo=bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" decodeURIComponent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gbkDecodeURIComponent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"querystring-stringify-obj-sep-eq-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#querystring-stringify-obj-sep-eq-options"}},[t._v("#")]),t._v(" querystring.stringify(obj[, sep[, eq[, options]]])")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("obj")]),t._v(" {Object} The object to serialize into a URL query string")]),t._v(" "),s("li",[s("code",[t._v("sep")]),t._v(" {string} The substring used to delimit key and value pairs in the\nquery string. "),s("strong",[t._v("Default:")]),t._v(" "),s("code",[t._v("'&'")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("eq")]),t._v(" {string}. The substring used to delimit keys and values in the\nquery string. "),s("strong",[t._v("Default:")]),t._v(" "),s("code",[t._v("'='")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("options")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("encodeURIComponent")]),t._v(" {Function} The function to use when converting\nURL-unsafe characters to percent-encoding in the query string. "),s("strong",[t._v("Default:")]),t._v(" "),s("code",[t._v("querystring.escape()")]),t._v(".")])])])]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("querystring.stringify()")]),t._v(" method produces a URL query string from a\ngiven "),s("code",[t._v("obj")]),t._v(' by iterating through the object\'s "own properties".')]),t._v(" "),s("p",[t._v("It serializes the following types of values passed in "),s("code",[t._v("obj")]),t._v(":\n{string|number|boolean|string[]|number[]|boolean[]}\nAny other input values will be coerced to empty strings.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("querystring"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" baz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'qux'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'quux'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" corge"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Returns 'foo=bar&baz=qux&baz=quux&corge='")]),t._v("\n\nquerystring"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" baz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'qux'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("';'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("':'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Returns 'foo:bar;baz:qux'")]),t._v("\n")])])]),s("p",[t._v("By default, characters requiring percent-encoding within the query string will\nbe encoded as UTF-8. If an alternative encoding is required, then an alternative\n"),s("code",[t._v("encodeURIComponent")]),t._v(" option will need to be specified:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Assuming gbkEncodeURIComponent function already exists,")]),t._v("\n\nquerystring"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" w"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'中文'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" foo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" encodeURIComponent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gbkEncodeURIComponent "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"querystring-unescape-str"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#querystring-unescape-str"}},[t._v("#")]),t._v(" querystring.unescape(str)")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("str")]),t._v(" {string}")])]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("querystring.unescape()")]),t._v(" method performs decoding of URL percent-encoded\ncharacters on the given "),s("code",[t._v("str")]),t._v(".")]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("querystring.unescape()")]),t._v(" method is used by "),s("code",[t._v("querystring.parse()")]),t._v(" and is\ngenerally not expected to be used directly. It is exported primarily to allow\napplication code to provide a replacement decoding implementation if\nnecessary by assigning "),s("code",[t._v("querystring.unescape")]),t._v(" to an alternative function.")]),t._v(" "),s("p",[t._v("By default, the "),s("code",[t._v("querystring.unescape()")]),t._v(" method will attempt to use the\nJavaScript built-in "),s("code",[t._v("decodeURIComponent()")]),t._v(" method to decode. If that fails,\na safer equivalent that does not throw on malformed URLs will be used.")])])}),[],!1,null,null,null);e.default=a.exports}}]);