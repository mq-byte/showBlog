<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TTY | QLQ学习平台</title>
    <meta name="description" content="QLQ学习平台">
    <link rel="manifest" href="/public/blog/manifest.json">
    
    <link rel="preload" href="/public/blog/assets/css/0.styles.3ad33863.css" as="style"><link rel="preload" href="/public/blog/assets/js/app.e4ea57ce.js" as="script"><link rel="preload" href="/public/blog/assets/js/2.d1dd4e4d.js" as="script"><link rel="preload" href="/public/blog/assets/js/56.882ab9d2.js" as="script"><link rel="preload" href="/public/blog/assets/js/3.1f730cd9.js" as="script"><link rel="prefetch" href="/public/blog/assets/js/10.7d4b1d4b.js"><link rel="prefetch" href="/public/blog/assets/js/11.b74ab56f.js"><link rel="prefetch" href="/public/blog/assets/js/12.5effa0dc.js"><link rel="prefetch" href="/public/blog/assets/js/13.6eb918e8.js"><link rel="prefetch" href="/public/blog/assets/js/14.0de95251.js"><link rel="prefetch" href="/public/blog/assets/js/15.fa3eaaf6.js"><link rel="prefetch" href="/public/blog/assets/js/16.fa5a1f3f.js"><link rel="prefetch" href="/public/blog/assets/js/17.65e33a7a.js"><link rel="prefetch" href="/public/blog/assets/js/18.a604e43f.js"><link rel="prefetch" href="/public/blog/assets/js/19.43fdc1b1.js"><link rel="prefetch" href="/public/blog/assets/js/20.c6e0b4b7.js"><link rel="prefetch" href="/public/blog/assets/js/21.81d73e54.js"><link rel="prefetch" href="/public/blog/assets/js/22.2da1489e.js"><link rel="prefetch" href="/public/blog/assets/js/23.98032a48.js"><link rel="prefetch" href="/public/blog/assets/js/24.bf1aeeb3.js"><link rel="prefetch" href="/public/blog/assets/js/25.ff0a5a9e.js"><link rel="prefetch" href="/public/blog/assets/js/26.9a69e70f.js"><link rel="prefetch" href="/public/blog/assets/js/27.78d71253.js"><link rel="prefetch" href="/public/blog/assets/js/28.05172e35.js"><link rel="prefetch" href="/public/blog/assets/js/29.836b5f2c.js"><link rel="prefetch" href="/public/blog/assets/js/30.7f2a0aa5.js"><link rel="prefetch" href="/public/blog/assets/js/31.16e7c775.js"><link rel="prefetch" href="/public/blog/assets/js/32.9d8aa648.js"><link rel="prefetch" href="/public/blog/assets/js/33.3ad73093.js"><link rel="prefetch" href="/public/blog/assets/js/34.a27e23cf.js"><link rel="prefetch" href="/public/blog/assets/js/35.34f0ba53.js"><link rel="prefetch" href="/public/blog/assets/js/36.993eb43f.js"><link rel="prefetch" href="/public/blog/assets/js/37.70ac44f6.js"><link rel="prefetch" href="/public/blog/assets/js/38.4b9e0ad1.js"><link rel="prefetch" href="/public/blog/assets/js/39.f8c33c98.js"><link rel="prefetch" href="/public/blog/assets/js/4.a6ed393e.js"><link rel="prefetch" href="/public/blog/assets/js/40.a2197e85.js"><link rel="prefetch" href="/public/blog/assets/js/41.467d6440.js"><link rel="prefetch" href="/public/blog/assets/js/42.ba8fc1fa.js"><link rel="prefetch" href="/public/blog/assets/js/43.b9d80aa8.js"><link rel="prefetch" href="/public/blog/assets/js/44.9b55cec1.js"><link rel="prefetch" href="/public/blog/assets/js/45.fbd44db5.js"><link rel="prefetch" href="/public/blog/assets/js/46.cff257a8.js"><link rel="prefetch" href="/public/blog/assets/js/47.3cd816de.js"><link rel="prefetch" href="/public/blog/assets/js/48.fdd057cb.js"><link rel="prefetch" href="/public/blog/assets/js/49.e007afae.js"><link rel="prefetch" href="/public/blog/assets/js/5.868620b4.js"><link rel="prefetch" href="/public/blog/assets/js/50.05e06075.js"><link rel="prefetch" href="/public/blog/assets/js/51.28689d1c.js"><link rel="prefetch" href="/public/blog/assets/js/52.84b0ef5c.js"><link rel="prefetch" href="/public/blog/assets/js/53.586cad0a.js"><link rel="prefetch" href="/public/blog/assets/js/54.2b8a703d.js"><link rel="prefetch" href="/public/blog/assets/js/55.c466c411.js"><link rel="prefetch" href="/public/blog/assets/js/57.edaca7e3.js"><link rel="prefetch" href="/public/blog/assets/js/58.c7ce4964.js"><link rel="prefetch" href="/public/blog/assets/js/59.02f33b29.js"><link rel="prefetch" href="/public/blog/assets/js/6.8e0ec0a1.js"><link rel="prefetch" href="/public/blog/assets/js/60.3e43121d.js"><link rel="prefetch" href="/public/blog/assets/js/61.e73a45bf.js"><link rel="prefetch" href="/public/blog/assets/js/62.a1ea2161.js"><link rel="prefetch" href="/public/blog/assets/js/63.0a4a98df.js"><link rel="prefetch" href="/public/blog/assets/js/64.0422c733.js"><link rel="prefetch" href="/public/blog/assets/js/65.b26f077a.js"><link rel="prefetch" href="/public/blog/assets/js/7.287519a5.js"><link rel="prefetch" href="/public/blog/assets/js/8.5443f788.js"><link rel="prefetch" href="/public/blog/assets/js/9.ef0461e8.js">
    <link rel="stylesheet" href="/public/blog/assets/css/0.styles.3ad33863.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/public/blog/" class="home-link router-link-active"><!----> <span class="site-name">QLQ学习平台</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/public/blog/js/regexp.html" class="nav-link">javaScript</a></div><div class="nav-item"><a href="/public/blog/css/bfc.html" class="nav-link">css</a></div><div class="nav-item"><a href="/public/blog/webpack/base-config.html" class="nav-link">webpack</a></div><div class="nav-item"><a href="/public/blog/node/buffer.html" class="nav-link">node</a></div><div class="nav-item"><a href="/public/blog/fragment/angular.html" class="nav-link">js框架</a></div><div class="nav-item"><a href="/public/blog/pwa/PWA.html" class="nav-link">pwa</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/public/blog/js/regexp.html" class="nav-link">javaScript</a></div><div class="nav-item"><a href="/public/blog/css/bfc.html" class="nav-link">css</a></div><div class="nav-item"><a href="/public/blog/webpack/base-config.html" class="nav-link">webpack</a></div><div class="nav-item"><a href="/public/blog/node/buffer.html" class="nav-link">node</a></div><div class="nav-item"><a href="/public/blog/fragment/angular.html" class="nav-link">js框架</a></div><div class="nav-item"><a href="/public/blog/pwa/PWA.html" class="nav-link">pwa</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>node</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/public/blog/node/buffer.html" class="sidebar-link">Buffer</a></li><li><a href="/public/blog/node/stream.html" class="sidebar-link">Stream</a></li><li><a href="/public/blog/node/nodemon.html" class="sidebar-link">nodemon：高效的nodejs开发环境</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="tty"><a href="#tty" class="header-anchor">#</a> TTY</h1> <blockquote><p>Stability: 2 - Stable</p></blockquote> <p>The <code>tty</code> module provides the <code>tty.ReadStream</code> and <code>tty.WriteStream</code> classes.
In most cases, it will not be necessary or possible to use this module directly.
However, it can be accessed using:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> tty <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'tty'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>When Node.js detects that it is being run with a text terminal (&quot;TTY&quot;)
attached, <a href="/public/blog/node/process.html#process_process_stdin"><code>process.stdin</code></a> will, by default, be initialized as an instance of
<code>tty.ReadStream</code> and both <a href="/public/blog/node/process.html#process_process_stdout"><code>process.stdout</code></a> and <a href="/public/blog/node/process.html#process_process_stderr"><code>process.stderr</code></a> will, by
default be instances of <code>tty.WriteStream</code>. The preferred method of determining
whether Node.js is being run within a TTY context is to check that the value of
the <code>process.stdout.isTTY</code> property is <code>true</code>:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>$ node -p -e <span class="token string">&quot;Boolean(process.stdout.isTTY)&quot;</span>
<span class="token boolean">true</span>
$ node -p -e <span class="token string">&quot;Boolean(process.stdout.isTTY)&quot;</span> <span class="token operator">|</span> <span class="token function">cat</span>
<span class="token boolean">false</span>
</code></pre></div><p>In most cases, there should be little to no reason for an application to
manually create instances of the <code>tty.ReadStream</code> and <code>tty.WriteStream</code>
classes.</p> <h2 id="class-tty-readstream"><a href="#class-tty-readstream" class="header-anchor">#</a> Class: tty.ReadStream</h2> <ul><li>Extends: {net.Socket}</li></ul> <p>Represents the readable side of a TTY. In normal circumstances
<a href="/public/blog/node/process.html#process_process_stdin"><code>process.stdin</code></a> will be the only <code>tty.ReadStream</code> instance in a Node.js
process and there should be no reason to create additional instances.</p> <h3 id="readstream-israw"><a href="#readstream-israw" class="header-anchor">#</a> readStream.isRaw</h3> <p>A <code>boolean</code> that is <code>true</code> if the TTY is currently configured to operate as a
raw device. Defaults to <code>false</code>.</p> <h3 id="readstream-istty"><a href="#readstream-istty" class="header-anchor">#</a> readStream.isTTY</h3> <p>A <code>boolean</code> that is always <code>true</code> for <code>tty.ReadStream</code> instances.</p> <h3 id="readstream-setrawmode-mode"><a href="#readstream-setrawmode-mode" class="header-anchor">#</a> readStream.setRawMode(mode)</h3> <ul><li><code>mode</code> {boolean} If <code>true</code>, configures the <code>tty.ReadStream</code> to operate as a
raw device. If <code>false</code>, configures the <code>tty.ReadStream</code> to operate in its
default mode. The <code>readStream.isRaw</code> property will be set to the resulting
mode.</li> <li>Returns: {this} The read stream instance.</li></ul> <p>Allows configuration of <code>tty.ReadStream</code> so that it operates as a raw device.</p> <p>When in raw mode, input is always available character-by-character, not
including modifiers. Additionally, all special processing of characters by the
terminal is disabled, including echoing input characters.
<code>CTRL</code>+<code>C</code> will no longer cause a <code>SIGINT</code> when in this mode.</p> <h2 id="class-tty-writestream"><a href="#class-tty-writestream" class="header-anchor">#</a> Class: tty.WriteStream</h2> <ul><li>Extends: {net.Socket}</li></ul> <p>Represents the writable side of a TTY. In normal circumstances,
<a href="/public/blog/node/process.html#process_process_stdout"><code>process.stdout</code></a> and <a href="/public/blog/node/process.html#process_process_stderr"><code>process.stderr</code></a> will be the only
<code>tty.WriteStream</code> instances created for a Node.js process and there
should be no reason to create additional instances.</p> <h3 id="event-resize"><a href="#event-resize" class="header-anchor">#</a> Event: 'resize'</h3> <p>The <code>'resize'</code> event is emitted whenever either of the <code>writeStream.columns</code>
or <code>writeStream.rows</code> properties have changed. No arguments are passed to the
listener callback when called.</p> <div class="language-js extra-class"><pre class="language-js"><code>process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'screen size has changed!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>columns<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">x</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span>rows<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="writestream-clearline-dir-callback"><a href="#writestream-clearline-dir-callback" class="header-anchor">#</a> writeStream.clearLine(dir[, callback])</h3> <ul><li><code>dir</code> {number}
<ul><li><code>-1</code>: to the left from cursor</li> <li><code>1</code>: to the right from cursor</li> <li><code>0</code>: the entire line</li></ul></li> <li><code>callback</code> {Function} Invoked once the operation completes.</li> <li>Returns: {boolean} <code>false</code> if the stream wishes for the calling code to wait
for the <code>'drain'</code> event to be emitted before continuing to write additional
data; otherwise <code>true</code>.</li></ul> <p><code>writeStream.clearLine()</code> clears the current line of this <code>WriteStream</code> in a
direction identified by <code>dir</code>.</p> <h3 id="writestream-clearscreendown-callback"><a href="#writestream-clearscreendown-callback" class="header-anchor">#</a> writeStream.clearScreenDown([callback])</h3> <ul><li><code>callback</code> {Function} Invoked once the operation completes.</li> <li>Returns: {boolean} <code>false</code> if the stream wishes for the calling code to wait
for the <code>'drain'</code> event to be emitted before continuing to write additional
data; otherwise <code>true</code>.</li></ul> <p><code>writeStream.clearScreenDown()</code> clears this <code>WriteStream</code> from the current
cursor down.</p> <h3 id="writestream-columns"><a href="#writestream-columns" class="header-anchor">#</a> writeStream.columns</h3> <p>A <code>number</code> specifying the number of columns the TTY currently has. This property
is updated whenever the <code>'resize'</code> event is emitted.</p> <h3 id="writestream-cursorto-x-y-callback"><a href="#writestream-cursorto-x-y-callback" class="header-anchor">#</a> writeStream.cursorTo(x[, y][, callback])</h3> <ul><li><code>x</code> {number}</li> <li><code>y</code> {number}</li> <li><code>callback</code> {Function} Invoked once the operation completes.</li> <li>Returns: {boolean} <code>false</code> if the stream wishes for the calling code to wait
for the <code>'drain'</code> event to be emitted before continuing to write additional
data; otherwise <code>true</code>.</li></ul> <p><code>writeStream.cursorTo()</code> moves this <code>WriteStream</code>'s cursor to the specified
position.</p> <h3 id="writestream-getcolordepth-env"><a href="#writestream-getcolordepth-env" class="header-anchor">#</a> writeStream.getColorDepth([env])</h3> <ul><li><code>env</code> {Object} An object containing the environment variables to check. This
enables simulating the usage of a specific terminal. <strong>Default:</strong> <code>process.env</code>.</li> <li>Returns: {number}</li></ul> <p>Returns:</p> <ul><li><code>1</code> for 2,</li> <li><code>4</code> for 16,</li> <li><code>8</code> for 256,</li> <li><code>24</code> for 16,777,216
colors supported.</li></ul> <p>Use this to determine what colors the terminal supports. Due to the nature of
colors in terminals it is possible to either have false positives or false
negatives. It depends on process information and the environment variables that
may lie about what terminal is used.
It is possible to pass in an <code>env</code> object to simulate the usage of a specific
terminal. This can be useful to check how specific environment settings behave.</p> <p>To enforce a specific color support, use one of the below environment settings.</p> <ul><li>2 colors: <code>FORCE_COLOR = 0</code> (Disables colors)</li> <li>16 colors: <code>FORCE_COLOR = 1</code></li> <li>256 colors: <code>FORCE_COLOR = 2</code></li> <li>16,777,216 colors: <code>FORCE_COLOR = 3</code></li></ul> <p>Disabling color support is also possible by using the <code>NO_COLOR</code> and
<code>NODE_DISABLE_COLORS</code> environment variables.</p> <h3 id="writestream-getwindowsize"><a href="#writestream-getwindowsize" class="header-anchor">#</a> writeStream.getWindowSize()</h3> <ul><li>Returns: {number[]}</li></ul> <p><code>writeStream.getWindowSize()</code> returns the size of the <a href="/public/blog/node/tty.html" class="router-link-exact-active router-link-active">TTY</a>
corresponding to this <code>WriteStream</code>. The array is of the type
<code>[numColumns, numRows]</code> where <code>numColumns</code> and <code>numRows</code> represent the number
of columns and rows in the corresponding <a href="/public/blog/node/tty.html" class="router-link-exact-active router-link-active">TTY</a>.</p> <h3 id="writestream-hascolors-count-env"><a href="#writestream-hascolors-count-env" class="header-anchor">#</a> writeStream.hasColors([count][, env])</h3> <ul><li><code>count</code> {integer} The number of colors that are requested (minimum 2).
<strong>Default:</strong> 16.</li> <li><code>env</code> {Object} An object containing the environment variables to check. This
enables simulating the usage of a specific terminal. <strong>Default:</strong> <code>process.env</code>.</li> <li>Returns: {boolean}</li></ul> <p>Returns <code>true</code> if the <code>writeStream</code> supports at least as many colors as provided
in <code>count</code>. Minimum support is 2 (black and white).</p> <p>This has the same false positives and negatives as described in
<a href="#tty_writestream_getcolordepth_env"><code>writeStream.getColorDepth()</code></a>.</p> <div class="language-js extra-class"><pre class="language-js"><code>process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">hasColors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Returns true or false depending on if `stdout` supports at least 16 colors.</span>
process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">hasColors</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Returns true or false depending on if `stdout` supports at least 256 colors.</span>
process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">hasColors</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token constant">TMUX</span><span class="token punctuation">:</span> <span class="token string">'1'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Returns true.</span>
process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">hasColors</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">**</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token constant">TMUX</span><span class="token punctuation">:</span> <span class="token string">'1'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Returns false (the environment setting pretends to support 2 ** 8 colors).</span>
</code></pre></div><h3 id="writestream-istty"><a href="#writestream-istty" class="header-anchor">#</a> writeStream.isTTY</h3> <p>A <code>boolean</code> that is always <code>true</code>.</p> <h3 id="writestream-movecursor-dx-dy-callback"><a href="#writestream-movecursor-dx-dy-callback" class="header-anchor">#</a> writeStream.moveCursor(dx, dy[, callback])</h3> <ul><li><code>dx</code> {number}</li> <li><code>dy</code> {number}</li> <li><code>callback</code> {Function} Invoked once the operation completes.</li> <li>Returns: {boolean} <code>false</code> if the stream wishes for the calling code to wait
for the <code>'drain'</code> event to be emitted before continuing to write additional
data; otherwise <code>true</code>.</li></ul> <p><code>writeStream.moveCursor()</code> moves this <code>WriteStream</code>'s cursor <em>relative</em> to its
current position.</p> <h3 id="writestream-rows"><a href="#writestream-rows" class="header-anchor">#</a> writeStream.rows</h3> <p>A <code>number</code> specifying the number of rows the TTY currently has. This property
is updated whenever the <code>'resize'</code> event is emitted.</p> <h2 id="tty-isatty-fd"><a href="#tty-isatty-fd" class="header-anchor">#</a> tty.isatty(fd)</h2> <ul><li><code>fd</code> {number} A numeric file descriptor</li> <li>Returns: {boolean}</li></ul> <p>The <code>tty.isatty()</code> method returns <code>true</code> if the given <code>fd</code> is associated with
a TTY and <code>false</code> if it is not, including whenever <code>fd</code> is not a non-negative
integer.</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/public/blog/assets/js/app.e4ea57ce.js" defer></script><script src="/public/blog/assets/js/2.d1dd4e4d.js" defer></script><script src="/public/blog/assets/js/56.882ab9d2.js" defer></script><script src="/public/blog/assets/js/3.1f730cd9.js" defer></script>
  </body>
</html>
